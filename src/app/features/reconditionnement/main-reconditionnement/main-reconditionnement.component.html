<div class="nird-unified-container">

  <!-- ========================================= -->
  <!-- SECTION 1 : L'INFOGRAPHIE (Informations) -->
  <!-- ========================================= -->
  <header class="infographic-header">
    <h1>‚ôªÔ∏è Le Reconditionnement au c≈ìur de la D√©marche NIRD</h1>
    <p><strong>NIRD : Num√©rique Inclusif, Responsable et Durable.</strong> Le reconditionnement par les √©l√®ves : un levier d'action concret pour une √©cole √©co-citoyenne.</p>
  </header>

  <div class="infographic-grid">
    <!-- PILIER 1 : IMPACT √âCOLOGIQUE -->
    <section class="pillar ecological">
      <div class="icon-circle">üåç</div>
      <h2>Impact √âcologique</h2>
      <h3>Sobri√©t√© num√©rique et plan√®te</h3>
      <p>L'achat d'un √©quipement reconditionn√© √©vite l'impact environnemental massif li√© √† la fabrication du neuf.</p>
      <div class="key-figure">
        <span class="value">Jusqu'√† <strong class="highlight-eco">97%</strong></span>
        <span class="label">d'impact annuel √©vit√© par rapport √† un √©quipement neuf.</span>
      </div>
    </section>

    <!-- PILIER 2 : IMPACT P√âDAGOGIQUE -->
    <section class="pillar pedagogical">
      <div class="icon-circle">üß†</div>
      <h2>Impact P√©dagogique</h2>
      <h3>Comp√©tences et citoyennet√©</h3>
      <ul>
        <li><strong>Comp√©tences :</strong> Ma√Ætrise hardware et syst√®mes libres (Linux).</li>
        <li><strong>Projet actif :</strong> Fait **par les √©l√®ves** dans un cadre valorisant.</li>
        <li><strong>Esprit critique :</strong> Formation √† la citoyennet√© num√©rique.</li>
      </ul>
    </section>

    <!-- PILIER 3 : IMPACT SOCIAL -->
    <section class="pillar social">
      <div class="icon-circle">ü§ù</div>
      <h2>Impact Social</h2>
      <h3>R√©duction de la fracture num√©rique</h3>
      <p>Le mat√©riel reconditionn√© r√©√©quipe les √©coles et les familles modestes, favorisant l'inclusion.</p>
      <div class="key-figure">
        <span class="value"><strong class="highlight-social">Solidarit√©</strong></span>
        <span class="label">√âquiper les territoires et les publics les plus fragiles.</span>
      </div>
    </section>

    <!-- PILIER 4 : IMPACT √âCONOMIQUE -->
    <section class="pillar budget">
        <div class="icon-circle">üí∞</div>
        <h2>Impact √âconomique</h2>
        <h3>Des √©conomies r√©elles</h3>
        <p>Prolonger la dur√©e de vie du mat√©riel lib√®re du budget pour d'autres projets p√©dagogiques.</p>
        <div class="key-figure">
            <span class="value"><strong class="highlight-budget">-50%</strong></span>
            <span class="label">De co√ªt moyen par poste sur 5 ans.</span>
        </div>
    </section>

    <!-- PILIER 5 : SOUVERAINET√â NUM√âRIQUE -->
    <section class="pillar sovereign">
        <div class="icon-circle">üõ°Ô∏è</div>
        <h2>Souverainet√© Num√©rique</h2>
        <h3>Protection des Donn√©es</h3>
        <p>L'installation de syst√®mes libres (Linux) garantit qu'aucune donn√©e √©l√®ve n'est capt√©e par des GAFAM.</p>
        <div class="key-figure">
            <span class="value"><strong class="highlight-sovereign">100%</strong></span>
            <span class="label">Logiciels Libres et formats ouverts (RGPD).</span>
        </div>
    </section>
  </div>

  <!-- S√âPARATEUR VISUEL -->
  <div class="separator-banner">
    <span class="separator-text">PASSEZ √Ä L'ACTION : MISSION RECONDITIONNEMENT</span>
  </div>


  <!-- ========================================= -->
  <!-- SECTION 2 : LE MINI-JEU (Int√©ractif) -->
  <!-- ========================================= -->
  <div class="game-container pixel-art-theme">
    <h2 class="game-title">üéÆ Mission : Op√©ration "Seconde Vie"</h2>
    
    <!-- √âTAPE 1 : LA RECHERCHE -->
    <div class="game-stage finding-stage" *ngIf="gameState === 'finding'">
        <p class="game-instructions">
          Trouve le vieux mat√©riel cach√© dans la classe ! Clique sur les cachettes potentielles.
        </p>
        <!-- SC√àNE DE CLASSE -->
        <div class="classroom-scene" [class.cupboard-is-open]="cupboardOpen">
          
          <!-- Zones cliquables -->
          <div class="hiding-spot desk-1" (click)="checkSpot('desk')"></div>
          <div class="hiding-spot trash-can" (click)="checkSpot('trash')"></div>
          
          <!-- L'armoire -->
          <div class="hiding-spot cupboard-zone" 
               (click)="clickCupboard()"
               [class.clickable-laptop]="cupboardOpen">
          </div>
      
          <!-- Feedback -->
          <div class="feedback-message" *ngIf="feedbackMessage">{{ feedbackMessage }}</div>
        </div>
    </div>


    <!-- √âTAPE 2 : LE RECONDITIONNEMENT -->
    <div class="game-stage refurbish-bench" *ngIf="gameState === 'refurbishing'">
      <p class="game-instructions">
        L'ordinateur d√©marre mal ! R√©pare-le √©tape par √©tape.
      </p>

      <div class="workbench-layout">
        <!-- ORDINATEUR AVEC √âTATS -->
        <div class="laptop-preview" 
             [class.state-1-dirty]="!refurbishSteps.cleaned"
             [class.state-2-hdd-error]="refurbishSteps.cleaned && !refurbishSteps.hdd"
             [class.state-3-ram-error]="refurbishSteps.cleaned && refurbishSteps.hdd && !refurbishSteps.ram"
             [class.state-4-finished]="refurbishSteps.cleaned && refurbishSteps.hdd && refurbishSteps.ram">
        </div>

        <div class="toolbox-container">
            <!-- La bo√Æte √† outils -->
            <div class="toolbox">
            <!-- Outil 1 : Nettoyage -->
            <div class="tool-item cloth" 
                (click)="useTool('clean')" 
                [class.used]="refurbishSteps.cleaned"
                title="Nettoyer la poussi√®re">
                <span class="tool-label">Nettoyer l'ordinateur</span>
            </div>
            
            <!-- Outil 2 : Changer le disque dur -->
            <div class="tool-item ssd" 
                (click)="useTool('hdd')"
                [class.locked]="!refurbishSteps.cleaned"
                [class.used]="refurbishSteps.hdd"
                title="Remplacer le vieux disque par un SSD">
                <span class="tool-label">Nouveau disque SSD</span>
            </div>

            <!-- Outil 3 : Ajouter de la RAM -->
            <div class="tool-item ram" 
                (click)="useTool('ram')"
                [class.locked]="!refurbishSteps.cleaned || !refurbishSteps.hdd"
                [class.used]="refurbishSteps.ram"
                title="Augmenter la m√©moire vive">
                <span class="tool-label">Plus de RAM</span>
            </div>
            </div>

            <!-- BOUTON ET APR√àS (Appara√Æt √† la fin) -->
            <button class="next-step-btn pixel-btn" 
                    *ngIf="refurbishSteps.cleaned && refurbishSteps.hdd && refurbishSteps.ram"
                    (click)="openFinalPopup()">
                Et apr√®s ? ‚ûú
            </button>
        </div>
      </div>
    </div>


    <!-- √âTAPE 3 : POP-UP FINALE -->
    <div class="success-popup-overlay" *ngIf="showSuccessPopup">
      <div class="success-popup pixel-border">
        <h3>‚ú® Mission Accomplie ! ‚ú®</h3>
        <div class="final-laptop-icon"></div>
        <p>
          Bravo ! Cet ordinateur est d√©sormais propre et fonctionnel mat√©riellement.
        </p>
        <div class="final-step-box">
            <p><strong>La derni√®re √©tape cl√© :</strong></p>
            <p>Installer un syst√®me d'exploitation <strong>libre et l√©ger (ex: Linux PrimTux)</strong> pour le rendre utilisable par les √©l√®ves !</p>
        </div>
        <!-- Bouton Navigation vers Linux -->
        <button class="restart-btn pixel-btn" (click)="goToLinux()">En savoir plus</button>
      </div>
    </div>

  </div>
</div>